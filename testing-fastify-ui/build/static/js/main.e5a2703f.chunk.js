(this["webpackJsonptesting-fastify"]=this["webpackJsonptesting-fastify"]||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(43),c=n.n(o),s=(n(55),n(6)),i=(n(56),n(18)),u=n(13),l=n.n(u),b=n(16),f="https://hydra.nowigence.ai/api",p=n(88),j=n(44),d=n.n(j).a.create({headers:{"Content-Type":"application/json"},withCredentials:!0});var g,v=n(4),h=function(){var e,t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)(""),s=Object(i.a)(c,2),u=s[0],j=s[1],g=(e={onSuccess:function(e){console.log("data from login",e)},onError:function(e){console.log("err from login",e)}},console.log("running useLogin"),Object(p.a)(function(){var e=Object(b.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("REST_BASE_ENDPOINT",f),console.log("post","".concat(f,"/login")),e.next=5,d.post("".concat(f,"/login"),t);case 5:if(n=e.sent,r=n.data,console.log("data from useLogin",r),!r.data){e.next=10;break}return e.abrupt("return",r.data);case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.log("err from useLogin",e.t0.response.data),new Error(e.t0.response.data.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),e)).mutate;return Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g({email:a,password:u})},children:[Object(v.jsx)("input",{type:"email",value:a,onChange:function(e){return o(e.target.value)}}),Object(v.jsx)("input",{type:"password",value:u,onChange:function(e){return j(e.target.value)}}),Object(v.jsx)("button",{type:"submit",children:"Login"})]})},O=function(){var e,t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)(""),s=Object(i.a)(c,2),u=s[0],j=s[1],g=(e={onSuccess:function(e){console.log("data from login",e)},onError:function(e){console.log("err from login",e)}},console.log("running useRegister"),Object(p.a)(function(){var e=Object(b.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.post("".concat(f,"/register"),t);case 3:if(n=e.sent,r=n.data,console.log("data from useRegister",r),!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(0),console.log("err from useRegister",e.t0.response.data),new Error(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),e)).mutate;return Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g({email:a,password:u})},children:[Object(v.jsx)("input",{type:"email",value:a,onChange:function(e){return o(e.target.value)}}),Object(v.jsx)("input",{type:"password",value:u,onChange:function(e){return j(e.target.value)}}),Object(v.jsx)("button",{type:"submit",children:"Register"})]})},m=n(87);!function(e){e.Public="PUBLIC",e.Private="PRIVATE"}(g||(g={}));var x=function(e,t){return Object(m.a)(["getUser",e],(n="\n    query getUser($email: String!) {\n  getUser(email: $email) {\n    id\n    email\n  }\n}\n    ",function(){var e=Object(b.a)(l.a.mark((function e(t){var r,a,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.post("https://hydra.nowigence.ai/api/graphql",{query:n,variables:t,body:JSON.stringify({query:n,variables:t})});case 3:if(!(null===(o=e.sent)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.errors)){e.next=6;break}throw null===o||void 0===o||null===(c=o.data)||void 0===c?void 0:c.errors[0].message;case 6:return e.abrupt("return",null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.data);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()).bind(null,e),t);var n},y=n(50),w=n(24),C=Object(r.createContext)();function E(e){var t=Object(r.useState)(0),n=Object(i.a)(t,2),a=n[0],o=n[1];Object(w.b)();return Object(r.useEffect)((function(){console.log("subscription context running");var e=new y.a("wss://hydra.nowigence.ai/api/graphql",{reconnect:!0,lazy:!0,connectionCallback:function(e){e&&console.error(e)}}).request({query:"\n        subscription sayHey {\n              sayHey\n          }\n      "}).subscribe({next:function(e){var t=e.data;t&&console.log("HERE:: data from subscription",t)}});return function(){return e.unsubscribe()}}),[]),Object(v.jsx)(C.Provider,{value:{count:a,setCount:o},children:e.children})}var S=function(){var e=Object(r.useContext)(C),t=e.count,n=(e.setCount,x({email:"hank@hank.com"},{onSuccess:function(){}})),a=n.data,o=n.error;return Object(r.useEffect)((function(){console.log("HERE:: count",t)}),[t]),console.log("data fro mme",a),console.log("err from me",o),Object(v.jsx)("div",{children:"Check console for data"})};var k=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(s.c,{children:[Object(v.jsx)(s.a,{exact:!0,path:"/",component:function(){return Object(v.jsx)(h,{})}}),Object(v.jsx)(s.a,{exact:!0,path:"/register",component:function(){return Object(v.jsx)(O,{})}}),Object(v.jsx)(s.a,{exact:!0,path:"/myMemory",component:function(){return Object(v.jsx)(S,{})}})]})})},R=n(86),P=n(49);function q(e){var t=e.contexts,n=e.children;return t.reduceRight((function(e,t){return a.a.cloneElement(t,{children:e})}),n)}function L(e){var t=e.children;return Object(v.jsx)(q,{contexts:[Object(v.jsx)(E,{})],children:t})}var I=n(29),T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,89)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))},D=new R.a;c.a.render(Object(v.jsx)(w.a,{client:D,children:Object(v.jsxs)(I.a,{children:[Object(v.jsx)(L,{children:Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(k,{})})}),Object(v.jsx)(P.ReactQueryDevtools,{initialIsOpen:!1})]})}),document.getElementById("root")),T()}},[[84,1,2]]]);
//# sourceMappingURL=main.e5a2703f.chunk.js.map